(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a6b7b1ec","chunk-a6b7b1ec"],{2429:function(t,e,n){},"62a9":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{attrs:{id:"blogComment"}},[n("span",[t._v(t._s(t.commentsCount)+" Comments")]),n("ul",t._l(t.commentList,(function(e){return n("li",{key:e.id},[n("span",{staticClass:"user_name"},[t._v(" "+t._s(e.user_name)+": "),1==e.parent?n("span",{staticClass:"user_name"},[t._v("@"+t._s(e.parent_name))]):t._e()]),n("span",{staticClass:"date"},[t._v(t._s(e.ctime))]),n("p",[t._v(" "+t._s(e.comments)+" "),n("span",{staticClass:"res",on:{click:function(n){return n.preventDefault(),t.huifu(e.user_name)}}},[t._v("[回复]")])])])})),0)]),n("div",{staticClass:"addComment",attrs:{id:"addComment"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"Nick Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],attrs:{placeholder:"content"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputRandomCode,expression:"inputRandomCode"}],attrs:{type:"text"},domProps:{value:t.inputRandomCode},on:{input:function(e){e.target.composing||(t.inputRandomCode=e.target.value)}}}),n("span",{domProps:{innerHTML:t._s(t.randomSvg)},on:{click:t.changeCode}}),n("button",{on:{click:t.sendComment}},[t._v("提交留言")])])])},a=[],i=n("2f62");function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=n("bc3a"),u={data:function(){return{commentList:[],commentsCount:0,randomSvg:"",rightCode:"",name:"",email:"",comment:"",inputRandomCode:"",parentName:"0",parent:-1}},computed:r({},Object(i["b"])(["bid"])),methods:{huifu:function(t){this.parent=1,this.parentName=t,window.scrollTo(0,document.body.scrollHeight)},changeCode:function(){var t=this;c({url:"/getRandomCode",method:"get"}).then((function(e){t.randomSvg=e.data.data.data,t.rightCode=e.data.data.text})).catch((function(t){console.log(t)}))},sendComment:function(){var t=this;""!=this.name&&""!=this.email&&""!=this.comment&&""!=this.inputRandomCode?this.inputRandomCode.toLowerCase()==this.rightCode.toLowerCase()?c({url:"/sendComment?bid="+this.bid+"&parent="+this.parent+"&name="+this.name+"&email="+this.email+"&comment="+this.comment+"&parentName="+this.parentName,method:"get"}).then((function(){alert("留言成功"),t.getComments()})):alert("验证码错误"):alert("内容不能为空")},initData:function(){this.commentList=[],this.commentsCount=0,this.randomSvg="",this.rightCode="",this.name="",this.email="",this.comment="",this.inputRandomCode="",this.parentName="0",this.parent=-1},getBid:function(){this.initData(),"/about"!=this.$route.path&&"/guestbook"!=this.$route.path||this.$store.commit("changeBid",-1)},getComments:function(){var t=this;this.getBid(),c({url:"/getCommentsByBlogId?bid="+this.bid,method:"get"}).then((function(e){t.commentList=e.data.data})),c({url:"/getCommentsCountByBlogId?bid="+this.bid,method:"get"}).then((function(e){t.commentsCount=e.data.data[0].count})),this.changeCode()}},watch:{$route:"getComments"},created:function(){this.getComments()}},d=u,l=(n("79e7"),n("2877")),p=Object(l["a"])(d,o,a,!1,null,"2368228a",null);e["default"]=p.exports},"79e7":function(t,e,n){"use strict";var o=n("2429"),a=n.n(o);a.a}}]);
//# sourceMappingURL=chunk-a6b7b1ec.d035040f.js.map